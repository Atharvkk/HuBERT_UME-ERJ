import os

# File converts the Cleaned Transcripts to an MFA usable format
for s in range(1, 2):

    transcript_file = r'Z:\FluentifyAI\CodeBase\Cleaned Transcripts\American\W_model.txt'
    output_dir = r"Z:\FluentifyAI\CodeBase\MFA Ready\American\W_model"          

    os.makedirs(output_dir, exist_ok=True)

    if not os.path.exists(transcript_file):
        print(f"Skipping: {transcript_file} not found.")
        continue

    with open(transcript_file, "r", encoding="utf-8") as f:
        lines = f.readlines()

    for line in lines:
        if not line.strip():
            continue
        
        parts = line.strip().split(maxsplit=1)
        if len(parts) != 2:
            continue 
            
        utterance_id, transcript = parts        
        output_file = os.path.join(output_dir, f"{utterance_id}.txt")
        with open(output_file, "w", encoding="utf-8") as out_f:
            out_f.write(transcript + "\n")
            
    print(f"Finished processing Speaker {s}")